<!doctype html>
<html lang="bn" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diganta - ‡¶á-‡¶¨‡ßÅ‡¶ï ‡¶∏‡ßç‡¶ü‡ßã‡¶∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Hind Siliguri', sans-serif;
    }
    
    .book-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .book-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .modal-backdrop {
      backdrop-filter: blur(4px);
    }
    
    .btn-primary:hover {
      transform: scale(1.05);
      transition: all 0.2s ease;
    }
    
    .toast {
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full w-full" style="background: linear-gradient(135deg, #f0fdf4 0%, #dbeafe 100%);">
  <div id="app" class="h-full w-full overflow-auto"></div>
  <div id="toast-container" class="fixed top-4 right-4 z-50 flex flex-col gap-2"></div>
  <script>
    // Local Storage ‡¶è ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá
    const STORAGE_KEY = 'diganta_books';
    const ORDERS_KEY = 'diganta_orders';
    
    const storeConfig = {
      store_name: "Diganta",
      store_phone: "01715247588",
      store_email: "eco452@gmail.com",
      banner_title: "‡¶ú‡ßç‡¶û‡¶æ‡¶®‡ßá‡¶∞ ‡¶≠ÔøΩÔøΩ‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Æ‡ßÅ‡¶†‡ßã‡¶Ø‡¶º",
      banner_subtitle: "‡¶∏‡ßá‡¶∞‡¶æ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶á-‡¶¨‡ßÅ‡¶ï ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®",
      primary_color: "#10b981",
      secondary_color: "#ffffff",
      accent_color: "#3b82f6",
      text_color: "#1f2937",
      card_color: "#f8fafc"
    };
    
    let currentView = 'customer';
    let isLoggedIn = false;
    const adminPassword = 'admin123';
    
    function getBooks() {
      const data = localStorage.getItem(STORAGE_KEY);
      return data ? JSON.parse(data) : [];
    }
    
    function saveBooks(books) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(books));
    }
    
    function getOrders() {
      const data = localStorage.getItem(ORDERS_KEY);
      return data ? JSON.parse(data) : [];
    }
    
    function saveOrders(orders) {
      localStorage.setItem(ORDERS_KEY, JSON.stringify(orders));
    }
    
    function showToast(message, type = 'success') {
      const container = document.getElementById('toast-container');
      const toast = document.createElement('div');
      toast.className = `toast px-6 py-3 rounded-lg shadow-lg text-white ${type === 'success' ? 'bg-green-500' : 'bg-red-500'}`;
      toast.textContent = message;
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideIn 0.3s ease reverse';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }
    
    function generateBookCoverSVG(title, author, color) {
      return `data:image/svg+xml,${encodeURIComponent(`
        <svg width="300" height="400" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="grad${color.replace('#','')}" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:${color};stop-opacity:1" />
              <stop offset="100%" style="stop-color:${shadeColor(color, -30)};stop-opacity:1" />
            </linearGradient>
          </defs>
          <rect width="300" height="400" fill="url(#grad${color.replace('#','')})"/>
          <rect x="20" y="30" width="260" height="4" fill="white" opacity="0.3"/>
          <text x="150" y="200" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="white" text-anchor="middle">${escapeHtml(title.substring(0, 20))}</text>
          <text x="150" y="350" font-family="Arial, sans-serif" font-size="18" fill="white" opacity="0.8" text-anchor="middle">${escapeHtml(author.substring(0, 25))}</text>
        </svg>
      `)}`;
    }
    
    function shadeColor(color, percent) {
      const num = parseInt(color.replace('#',''), 16);
      const amt = Math.round(2.55 * percent);
      const R = Math.max(0, Math.min(255, (num >> 16) + amt));
      const G = Math.max(0, Math.min(255, (num >> 8 & 0x00FF) + amt));
      const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
      return '#' + (0x1000000 + (R << 16) + (G << 8) + B).toString(16).slice(1);
    }
    
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    function handleOrder(bookId) {
      const books = getBooks();
      const book = books.find(b => b.id === bookId);
      if (!book) return;
      
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 flex items-center justify-center modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
      
      modal.innerHTML = `
        <div class="rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8" style="background-color: ${storeConfig.card_color};">
          <h2 class="text-3xl font-bold mb-6 text-center" style="color: ${storeConfig.primary_color};">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
          <form id="orderForm">
            <div class="mb-4">
              <label class="block text-sm font-semibold mb-2">‡¶¨‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
              <input type="text" value="${escapeHtml(book.title)}" disabled class="w-full px-4 py-3 border-2 rounded-lg bg-gray-100">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-semibold mb-2">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</label>
              <input type="text" value="‡ß≥${book.offer_price || book.price}" disabled class="w-full px-4 py-3 border-2 rounded-lg bg-gray-100">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-semibold mb-2">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ *</label>
              <input type="text" id="customerName" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-semibold mb-2">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *</label>
              <input type="tel" id="customerMobile" required pattern="[0-9]{11}" placeholder="01XXXXXXXXX" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
            </div>
            <div class="mb-6">
              <label class="block text-sm font-semibold mb-2">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ *</label>
              <textarea id="customerAddress" required rows="3" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500"></textarea>
            </div>
            <div class="bg-blue-50 border-2 border-blue-300 rounded-lg p-4 mb-6">
              <p class="text-sm font-semibold text-blue-800">üí∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶® ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æÔøΩÔøΩ‡¶ø</p>
              <p class="text-xs text-blue-600 mt-1">‡¶™‡¶£‡ßç‡¶Ø ‡¶π‡¶æ‡¶§‡ßá ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            </div>
            <div class="flex gap-3">
              <button type="button" id="cancelBtn" class="flex-1 px-6 py-3 border-2 rounded-lg font-semibold hover:bg-gray-100">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
              <button type="submit" class="flex-1 px-6 py-3 rounded-lg font-semibold text-white btn-primary" style="background-color: ${storeConfig.primary_color};">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
          </form>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      document.getElementById('cancelBtn').onclick = () => modal.remove();
      modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
      
      document.getElementById('orderForm').onsubmit = (e) => {
        e.preventDefault();
        
        const name = document.getElementById('customerName').value.trim();
        const mobile = document.getElementById('customerMobile').value.trim();
        const address = document.getElementById('customerAddress').value.trim();
        
        if (!name || !mobile || !address) {
          showToast('‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞ÔøΩÔøΩÔøΩ ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
          return;
        }
        
        const orders = getOrders();
        const newOrder = {
          id: 'order_' + Date.now(),
          book_id: book.id,
          book_title: book.title,
          customer_name: name,
          customer_mobile: mobile,
          customer_address: address,
          order_date: new Date().toISOString(),
          order_status: '‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç',
          book_price: book.offer_price || book.price
        };
        
        orders.push(newOrder);
        saveOrders(orders);
        
        showToast('‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡•§', 'success');
        modal.remove();
        renderApp();
      };
    }
    
    function showBookDetails(bookId) {
      const books = getBooks();
      const book = books.find(b => b.id === bookId);
      if (!book) return;
      
      const images = book.images || [];
      const previewPages = book.preview_pages || [];
      
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 overflow-auto modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.7)';
      
      modal.innerHTML = `
        <div class="min-h-screen py-8 px-4">
          <div class="max-w-5xl mx-auto rounded-2xl shadow-2xl p-8" style="background-color: ${storeConfig.card_color};">
            <button id="closeModal" class="float-right text-3xl font-bold hover:text-red-500">&times;</button>
            <div class="clear-both"></div>
            
            <div class="grid md:grid-cols-2 gap-8 mt-4">
              <div>
                <img id="mainImage" src="${images[0] || book.cover_url || generateBookCoverSVG(book.title, book.author, storeConfig.primary_color)}" alt="${escapeHtml(book.title)}" class="w-full rounded-xl shadow-lg mb-4">
                ${images.length > 1 ? `
                  <div class="flex gap-2 overflow-x-auto pb-2">
                    ${images.map((img, idx) => `
                      <img src="${img}" alt="View ${idx+1}" class="w-20 h-24 object-cover rounded-lg cursor-pointer border-4 ${idx === 0 ? 'border-green-500' : 'border-transparent'}" onclick="document.getElementById('mainImage').src='${img}'; document.querySelectorAll('.w-20').forEach(el => el.className='w-20 h-24 object-cover rounded-lg cursor-pointer border-4 border-transparent'); this.className='w-20 h-24 object-cover rounded-lg cursor-pointer border-4 border-green-500';">
                    `).join('')}
                  </div>
                ` : ''}
              </div>
              
              <div>
                <h2 class="text-4xl font-bold mb-2">${escapeHtml(book.title)}</h2>
                <p class="text-xl text-gray-600 mb-4">‡¶≤‡ßá‡¶ñ‡¶ï: ${escapeHtml(book.author)}</p>
                
                <div class="flex items-center gap-4 mb-6">
                  ${book.offer_price ? `
                    <span class="text-3xl font-bold" style="color: ${storeConfig.primary_color};">‡ß≥${book.offer_price}</span>
                    <span class="text-2xl line-through text-gray-400">‡ß≥${book.price}</span>
                    <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                      ${Math.round((1 - book.offer_price/book.price) * 100)}% ‡¶õ‡¶æ‡¶°‡¶º
                    </span>
                  ` : `
                    <span class="text-3xl font-bold" style="color: ${storeConfig.primary_color};">‡ß≥${book.price}</span>
                  `}
                </div>
                
                <div class="mb-6">
                  <h3 class="text-xl font-bold mb-2">‡¶¨‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™</h3>
                  <div class="text-gray-700 leading-relaxed max-h-60 overflow-y-auto border-2 border-gray-200 rounded-lg p-4" style="white-space: pre-wrap;">${escapeHtml(book.description)}</div>
                </div>
                
                ${previewPages.length > 0 ? `
                  <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶™‡ßá‡¶ú</h3>
                    <div class="flex gap-2 overflow-x-auto">
                      ${previewPages.map((page, idx) => `
                        <img src="${page}" alt="Page ${idx+1}" class="w-32 h-40 object-cover rounded-lg shadow cursor-pointer hover:scale-105 transition-transform" onclick="showFullPagePreview('${page}', ${idx+1})">
                      `).join('')}
                    </div>
                  </div>
                ` : ''}
                
                ${book.pdf_url ? `
                  <div class="mb-4">
                    <button onclick="showPdfViewer('${book.pdf_url}')" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-semibold">
                      üìÑ PDF ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                    <a href="${book.pdf_url}" target="_blank" rel="noopener noreferrer" class="ml-2 px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 inline-block font-semibold">
                      ‚¨áÔ∏è ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
                    </a>
                  </div>
                ` : ''}
                
                <button id="orderNowBtn" class="w-full py-4 rounded-xl text-white text-xl font-bold btn-primary shadow-lg" style="background-color: ${storeConfig.primary_color};">
                  üõí ‡¶è‡¶ñ‡¶®‡¶á ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      document.getElementById('closeModal').onclick = () => modal.remove();
      document.getElementById('orderNowBtn').onclick = () => {
        modal.remove();
        handleOrder(bookId);
      };
    }
    
    function renderCustomerView() {
      const books = getBooks();
      
      return `
        <header class="py-4 px-6 shadow-md" style="background-color: ${storeConfig.secondary_color};">
          <div class="max-w-7xl mx-auto flex justify-between items-center flex-wrap gap-4">
            <h1 class="text-3xl font-bold" style="color: ${storeConfig.primary_color};">üìö ${storeConfig.store_name}</h1>
            <div class="flex items-center gap-6 flex-wrap">
              <a href="tel:${storeConfig.store_phone}" class="flex items-center gap-2 hover:opacity-80">
                <span class="text-xl">üìû</span>
                <span class="font-semibold" style="color: ${storeConfig.text_color};">${storeConfig.store_phone}</span>
              </a>
              <button onclick="currentView='admin'; renderApp();" class="px-4 py-2 rounded-lg font-semibold" style="background-color: ${storeConfig.accent_color}; color: white;">
                Admin
              </button>
            </div>
          </div>
        </header>
        
        <section class="py-20 px-6" style="background: linear-gradient(135deg, ${storeConfig.primary_color} 0%, ${storeConfig.accent_color} 100%);">
          <div class="max-w-4xl mx-auto text-center text-white">
            <h2 class="text-5xl font-bold mb-4">${storeConfig.banner_title}</h2>
            <p class="text-2xl opacity-90">${storeConfig.banner_subtitle}</p>
          </div>
        </section>
        
        <main class="max-w-7xl mx-auto py-12 px-6">
          <h3 class="text-3xl font-bold mb-8 text-center" style="color: ${storeConfig.text_color};">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶á ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π</h3>
          
          ${books.length === 0 ? `
            <div class="text-center py-20 bg-white rounded-2xl shadow-lg">
              <p class="text-2xl text-gray-400">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø</p>
              <button onclick="currentView='admin'; renderApp();" class="mt-6 px-8 py-3 rounded-lg text-white font-semibold" style="background-color: ${storeConfig.primary_color};">
                ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
              </button>
            </div>
          ` : `
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
              ${books.map(book => `
                <div class="book-card rounded-2xl shadow-lg overflow-hidden cursor-pointer" style="background-color: ${storeConfig.card_color};" onclick="showBookDetails('${book.id}')">
                  <img src="${book.cover_url || generateBookCoverSVG(book.title, book.author, storeConfig.primary_color)}" alt="${escapeHtml(book.title)}" class="w-full h-80 object-cover">
                  <div class="p-6">
                    <h4 class="text-2xl font-bold mb-2" style="color: ${storeConfig.text_color};">${escapeHtml(book.title)}</h4>
                    <p class="text-gray-600 mb-4">‡¶≤‡ßá‡¶ñ‡¶ï: ${escapeHtml(book.author)}</p>
                    <p class="text-gray-700 mb-4 line-clamp-3">${escapeHtml(book.description.substring(0, 100))}...</p>
                    <div class="flex items-center justify-between">
                      ${book.offer_price ? `
                        <div>
                          <span class="text-2xl font-bold" style="color: ${storeConfig.primary_color};">‡ß≥${book.offer_price}</span>
                          <span class="text-lg line-through text-gray-400 ml-2">‡ß≥${book.price}</span>
                        </div>
                      ` : `
                        <span class="text-2xl font-bold" style="color: ${storeConfig.primary_color};">‡ß≥${book.price}</span>
                      `}
                      <button onclick="event.stopPropagation(); handleOrder('${book.id}');" class="px-6 py-2 rounded-lg text-white font-semibold hover:opacity-90" style="background-color: ${storeConfig.primary_color};">
                        ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                      </button>
                    </div>
                  </div>
                </div>
              `).join('')}
            </div>
          `}
        </main>
        
        <footer class="py-8 px-6 mt-12" style="background-color: ${storeConfig.text_color}; color: white;">
          <div class="max-w-7xl mx-auto text-center">
            <p class="text-xl font-semibold mb-2">${storeConfig.store_name}</p>
            <p>üìû ${storeConfig.store_phone} | üìß ${storeConfig.store_email}</p>
            <p class="mt-4 text-sm opacity-75">¬© 2024 ${storeConfig.store_name}. ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§</p>
          </div>
        </footer>
      `;
    }
    
    function renderAdminLogin() {
      return `
        <div class="min-h-screen flex items-center justify-center px-4">
          <div class="rounded-2xl shadow-2xl p-8 w-full max-w-md" style="background-color: ${storeConfig.card_color};">
            <h2 class="text-3xl font-bold mb-6 text-center" style="color: ${storeConfig.primary_color};">üîê Admin Login</h2>
            <form id="loginForm">
              <div class="mb-6">
                <label class="block text-sm font-semibold mb-2">Password</label>
                <input type="password" id="adminPassword" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
              </div>
              <button type="submit" class="w-full py-3 rounded-lg text-white font-semibold btn-primary" style="background-color: ${storeConfig.primary_color};">
                Login
              </button>
              <button type="button" onclick="currentView='customer'; renderApp();" class="w-full mt-3 py-3 border-2 rounded-lg font-semibold hover:bg-gray-50">
                Back to Store
              </button>
            </form>
          </div>
        </div>
      `;
    }
    
    function renderAdminPanel() {
      const books = getBooks();
      const orders = getOrders();
      
      return `
        <div class="min-h-screen" style="background-color: #f3f4f6;">
          <header class="py-4 px-6 shadow-md" style="background-color: ${storeConfig.primary_color}; color: white;">
            <div class="max-w-7xl mx-auto flex justify-between items-center flex-wrap gap-4">
              <h1 class="text-2xl font-bold">üîß Admin Panel</h1>
              <div class="flex gap-3">
                <button onclick="currentView='customer'; renderApp();" class="px-4 py-2 bg-white rounded-lg font-semibold" style="color: ${storeConfig.primary_color};">
                  ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                </button>
                <button onclick="isLoggedIn=false; currentView='admin'; renderApp();" class="px-4 py-2 bg-red-500 text-white rounded-lg font-semibold">
                  Logout
                </button>
              </div>
            </div>
          </header>
          
          <main class="max-w-7xl mx-auto py-8 px-6">
            <div class="grid md:grid-cols-3 gap-6 mb-8">
              <div class="rounded-xl shadow-lg p-6 bg-white">
                <h3 class="text-lg font-semibold text-gray-600">‡¶Æ‡ßã‡¶ü ‡¶¨‡¶á</h3>
                <p class="text-4xl font-bold mt-2" style="color: ${storeConfig.primary_color};">${books.length}</p>
              </div>
              <div class="rounded-xl shadow-lg p-6 bg-white">
                <h3 class="text-lg font-semibold text-gray-600">‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</h3>
                <p class="text-4xl font-bold mt-2" style="color: ${storeConfig.primary_color};">${orders.length}</p>
              </div>
              <div class="rounded-xl shadow-lg p-6 bg-white">
                <h3 class="text-lg font-semibold text-gray-600">‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</h3>
                <p class="text-4xl font-bold mt-2" style="color: ${storeConfig.primary_color};">${orders.filter(o => o.order_status === '‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç').length}</p>
              </div>
            </div>
            
            <div class="rounded-xl shadow-lg p-6 mb-8 bg-white">
              <div class="flex justify-between items-center mb-6 flex-wrap gap-4">
                <h2 class="text-2xl font-bold" style="color: ${storeConfig.text_color};">‡¶¨‡¶á ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
                <button onclick="showAddBookForm()" class="px-6 py-3 rounded-lg text-white font-semibold btn-primary" style="background-color: ${storeConfig.primary_color};">
                  + ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
              </div>
              
              ${books.length === 0 ? `
                <p class="text-center text-gray-400 py-8">‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶á ‡¶®‡ßá‡¶á</p>
              ` : `
                <div class="overflow-x-auto">
                  <table class="w-full">
                    <thead class="border-b-2">
                      <tr>
                        <th class="text-left py-3 px-4">‡¶¨‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th class="text-left py-3 px-4">‡¶≤‡ßá‡¶ñ‡¶ï</th>
                        <th class="text-left py-3 px-4">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th class="text-left py-3 px-4">‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th class="text-left py-3 px-4">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      ${books.map(book => `
                        <tr class="border-b hover:bg-gray-50">
                          <td class="py-3 px-4 font-semibold">${escapeHtml(book.title)}</td>
                          <td class="py-3 px-4">${escapeHtml(book.author)}</td>
                          <td class="py-3 px-4">‡ß≥${book.price}</td>
                          <td class="py-3 px-4">${book.offer_price ? '‡ß≥' + book.offer_price : '-'}</td>
                          <td class="py-3 px-4">
                            <button onclick='editBook("${book.id}")' class="px-3 py-1 bg-blue-500 text-white rounded mr-2 hover:bg-blue-600">Edit</button>
                            <button onclick='deleteBook("${book.id}")' class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">Delete</button>
                          </td>
                        </tr>
                      `).join('')}
                    </tbody>
                  </table>
                </div>
              `}
            </div>
            
            <div class="rounded-xl shadow-lg p-6 bg-white">
              <h2 class="text-2xl font-bold mb-6" style="color: ${storeConfig.text_color};">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
              
              ${orders.length === 0 ? `
                <p class="text-center text-gray-400 py-8">‡¶ï‡ßã‡¶®‡ßã ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡ßá‡¶á</p>
              ` : `
                <div class="overflow-x-auto">
                  <table class="w-full text-sm">
                    <thead class="border-b-2">
                      <tr>
                        <th class="text-left py-3 px-2">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                        <th class="text-left py-3 px-2">‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th class="text-left py-3 px-2">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</th>
                        <th class="text-left py-3 px-2">‡¶¨‡¶á</th>
                        <th class="text-left py-3 px-2">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th class="text-left py-3 px-2">‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</th>
                        <th class="text-left py-3 px-2">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</th>
                        <th class="text-left py-3 px-2">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      ${orders.map(order => `
                        <tr class="border-b hover:bg-gray-50">
                          <td class="py-3 px-2">${new Date(order.order_date).toLocaleDateString('bn-BD')}</td>
                          <td class="py-3 px-2 font-semibold">${escapeHtml(order.customer_name)}</td>
                          <td class="py-3 px-2">${order.customer_mobile}</td>
                          <td class="py-3 px-2">${escapeHtml(order.book_title)}</td>
                          <td class="py-3 px-2">‡ß≥${order.book_price}</td>
                          <td class="py-3 px-2 max-w-xs truncate">${escapeHtml(order.customer_address)}</td>
                          <td class="py-3 px-2">
                            <span class="px-2 py-1 rounded-full text-xs font-semibold ${order.order_status === '‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç' ? 'bg-yellow-100 text-yellow-800' : order.order_status === '‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶°' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                              ${order.order_status}
                            </span>
                          </td>
                          <td class="py-3 px-2">
                            <select onchange='updateOrderStatus("${order.id}", this.value)' class="px-2 py-1 border rounded text-xs">
                              <option value="">Change</option>
                              <option value="‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç">‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç</option>
                              <option value="‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç">‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç</option>
                              <option value="‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶°">‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶°</option>
                              <option value="‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá‡¶≤">‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá‡¶≤</option>
                            </select>
                          </td>
                        </tr>
                      `).join('')}
                    </tbody>
                  </table>
                </div>
              `}
            </div>
          </main>
        </div>
      `;
    }
    
    function showAddBookForm() {
      showBookForm(null);
    }
    
    function editBook(bookId) {
      const books = getBooks();
      const book = books.find(b => b.id === bookId);
      if (book) showBookForm(book);
    }
    
    function showBookForm(book = null) {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 overflow-auto modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
      
      modal.innerHTML = `
        <div class="min-h-screen py-8 px-4 flex items-center justify-center">
          <div class="rounded-2xl shadow-2xl p-8 w-full max-w-2xl" style="background-color: ${storeConfig.card_color};">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-3xl font-bold" style="color: ${storeConfig.primary_color};">${book ? '‡¶¨‡¶á ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : '‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®'}</h2>
              <button id="closeModal" class="text-3xl font-bold hover:text-red-500">&times;</button>
            </div>
            
            <form id="bookForm" class="space-y-4">
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶¨ÔøΩÔøΩÔøΩ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ *</label>
                <input type="text" id="bookTitle" value="${book?.title || ''}" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶≤‡ßá‡¶ñ‡¶ï *</label>
                <input type="text" id="bookAuthor" value="${book?.author || ''}" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold mb-2">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡ß≥) *</label>
                  <input type="number" id="bookPrice" value="${book?.price || ''}" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
                </div>
                <div>
                  <label class="block text-sm font-semibold mb-2">‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡ß≥)</label>
                  <input type="number" id="bookOfferPrice" value="${book?.offer_price || ''}" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶¨‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ *</label>
                <textarea id="bookDescription" rows="4" required class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">${book?.description || ''}</textarea>
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶ú URL</label>
                <input type="url" id="bookCoverUrl" value="${book?.cover_url || ''}" placeholder="https://example.com/image.jpg" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶á‡¶Æ‡ßá‡¶ú URLs (‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶è‡¶ï‡¶ü‡¶ø)</label>
                <textarea id="bookImages" rows="3" placeholder="https://example.com/image1.jpg&#10;https://example.com/image2.jpg" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">${book?.images ? book.images.join('\n') : ''}</textarea>
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">PDF ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï</label>
                <input type="url" id="bookPdfUrl" value="${book?.pdf_url || ''}" placeholder="https://example.com/book.pdf" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">
              </div>
              
              <div>
                <label class="block text-sm font-semibold mb-2">‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶™‡ßá‡¶ú URLs (‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶è‡¶ï‡¶ü‡¶ø)</label>
                <textarea id="bookPreviewPages" rows="3" placeholder="https://example.com/page1.jpg&#10;https://example.com/page2.jpg" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-green-500">${book?.preview_pages ? book.preview_pages.join('\n') : ''}</textarea>
              </div>
              
              <div class="flex gap-3 pt-4">
                <button type="button" onclick="this.closest('.modal-backdrop').remove()" class="flex-1 px-6 py-3 border-2 rounded-lg font-semibold hover:bg-gray-100">
                  ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤
                </button>
                <button type="submit" class="flex-1 px-6 py-3 rounded-lg text-white font-semibold btn-primary" style="background-color: ${storeConfig.primary_color};">
                  ${book ? '‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : '‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®'}
                </button>
              </div>
            </form>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      document.getElementById('closeModal').onclick = () => modal.remove();
      
      document.getElementById('bookForm').onsubmit = (e) => {
        e.preventDefault();
        
        const title = document.getElementById('bookTitle').value.trim();
        const author = document.getElementById('bookAuthor').value.trim();
        const price = parseFloat(document.getElementById('bookPrice').value);
        const offerPrice = document.getElementById('bookOfferPrice').value ? parseFloat(document.getElementById('bookOfferPrice').value) : null;
        const description = document.getElementById('bookDescription').value.trim();
        const coverUrl = document.getElementById('bookCoverUrl').value.trim();
        const imagesText = document.getElementById('bookImages').value.trim();
        const pdfUrl = document.getElementById('bookPdfUrl').value.trim();
        const previewPagesText = document.getElementById('bookPreviewPages').value.trim();
        
        const images = imagesText ? imagesText.split('\n').filter(url => url.trim()) : [];
        const previewPages = previewPagesText ? previewPagesText.split('\n').filter(url => url.trim()) : [];
        
        const books = getBooks();
        
        const bookData = {
          id: book?.id || 'book_' + Date.now(),
          title,
          author,
          price,
          offer_price: offerPrice,
          description,
          cover_url: coverUrl,
          images,
          pdf_url: pdfUrl,
          preview_pages: previewPages,
          created_at: book?.created_at || new Date().toISOString()
        };
        
        if (book) {
          const index = books.findIndex(b => b.id === book.id);
          books[index] = bookData;
        } else {
          books.push(bookData);
        }
        
        saveBooks(books);
        showToast(book ? '‡¶¨‡¶á ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ÔøΩÔøΩ‡¶Ø‡¶º‡ßá‡¶õ‡ßá' : '‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
        modal.remove();
        renderApp();
      };
    }
    
    function deleteBook(bookId) {
      const books = getBooks();
      const book = books.find(b => b.id === bookId);
      if (!book) return;
      
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 flex items-center justify-center modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
      
      modal.innerHTML = `
        <div class="rounded-2xl shadow-2xl p-8 max-w-md mx-4" style="background-color: ${storeConfig.card_color};">
          <h3 class="text-2xl font-bold mb-4" style="color: ${storeConfig.primary_color};">‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
          <p class="text-gray-700 mb-6">‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø "${escapeHtml(book.title)}" ‡¶¨‡¶á‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?</p>
          <div class="flex gap-3">
            <button onclick="this.closest('.modal-backdrop').remove()" class="flex-1 px-6 py-3 border-2 rounded-lg font-semibold hover:bg-gray-100">
              ‡¶®‡¶æ
            </button>
            <button id="confirmDeleteBtn" class="flex-1 px-6 py-3 rounded-lg text-white font-semibold bg-red-500 hover:bg-red-600">
              ‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      document.getElementById('confirmDeleteBtn').onclick = () => {
        const books = getBooks();
        const filteredBooks = books.filter(b => b.id !== bookId);
        saveBooks(filteredBooks);
        showToast('‡¶¨‡¶á ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
        modal.remove();
        renderApp();
      };
    }
    
    function updateOrderStatus(orderId, newStatus) {
      if (!newStatus) return;
      
      const orders = getOrders();
      const index = orders.findIndex(o => o.id === orderId);
      if (index !== -1) {
        orders[index].order_status = newStatus;
        saveOrders(orders);
        showToast('‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
        renderApp();
      }
    }
    
    function showFullPagePreview(imageUrl, pageNumber) {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 flex items-center justify-center modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.95)';
      
      modal.innerHTML = `
        <div class="relative w-full h-full flex items-center justify-center p-4">
          <button onclick="this.closest('.modal-backdrop').remove()" class="absolute top-4 right-4 text-white text-4xl font-bold hover:text-red-500 z-10">
            ‚úï
          </button>
          <div class="text-center">
            <img src="${imageUrl}" alt="Page ${pageNumber}" class="max-w-full max-h-screen object-contain rounded-lg shadow-2xl">
            <p class="text-white text-lg mt-4 font-semibold">‡¶™‡ßá‡¶ú ${pageNumber}</p>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.onclick = (e) => { if (e.target === modal || e.target.closest('.relative')) modal.remove(); };
    }
    
    function showPdfViewer(pdfUrl) {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 modal-backdrop';
      modal.style.backgroundColor = 'rgba(0,0,0,0.95)';
      
      modal.innerHTML = `
        <div class="w-full h-full flex flex-col">
          <div class="flex justify-between items-center p-4 bg-black bg-opacity-50">
            <h3 class="text-white text-xl font-bold">üìÑ PDF ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</h3>
            <button onclick="this.closest('.modal-backdrop').remove()" class="text-white text-3xl font-bold hover:text-red-500">
              ‚úï
            </button>
          </div>
          <div class="flex-1 overflow-auto bg-gray-800">
            <iframe src="${pdfUrl}" class="w-full h-full border-0" style="min-height: 100%;"></iframe>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
    }
    
    function renderApp() {
      const app = document.getElementById('app');
      
      if (currentView === 'customer') {
        app.innerHTML = renderCustomerView();
      } else if (currentView === 'admin') {
        if (!isLoggedIn) {
          app.innerHTML = renderAdminLogin();
          
          setTimeout(() => {
            const form = document.getElementById('loginForm');
            if (form) {
              form.onsubmit = (e) => {
                e.preventDefault();
                const password = document.getElementById('adminPassword').value;
                
                if (password === adminPassword) {
                  isLoggedIn = true;
                  renderApp();
                } else {
                  showToast('‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°', 'error');
                }
              };
            }
          }, 100);
        } else {
          app.innerHTML = renderAdminPanel();
        }
      }
    }
    
    window.showBookDetails = showBookDetails;
    window.handleOrder = handleOrder;
    window.showAddBookForm = showAddBookForm;
    window.editBook = editBook;
    window.deleteBook = deleteBook;
    window.updateOrderStatus = updateOrderStatus;
    window.showFullPagePreview = showFullPagePreview;
    window.showPdfViewer = showPdfViewer;
    
    renderApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9afe4644c4fd4ea6',t:'MTc2NjA1Njg2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
